{"title":"MYSQL LOAD DATA","slug":"MySQL-LOAD-DATA","date":"2019-08-07T14:14:02.000Z","updated":"2019-09-03T14:28:41.171Z","comments":true,"path":"api/articles/MySQL-LOAD-DATA.json","photos":[],"link":"","excerpt":"é€šè¿‡ä¼ªé€ æ¶æ„æœåŠ¡å™¨é€ æˆçš„æ”»å‡»<br>ğŸ˜«ğŸ˜„","covers":["https://upload-images.jianshu.io/upload_images/9113969-2c46042011a696ea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","http://wx4.sinaimg.cn/mw690/006boCb9ly1g5rdhx9h84j30jx02lt9b.jpg","http://wx1.sinaimg.cn/mw690/006boCb9ly1g5rdhzvg9vj30k602n0u2.jpg","http://wx4.sinaimg.cn/mw690/006boCb9ly1g5rdi51lqsj30l20kz77j.jpg","http://wx3.sinaimg.cn/mw690/006boCb9ly1g5rdi2fq31j30kd0cgjt2.jpg","http://wx1.sinaimg.cn/mw690/006boCb9ly1g5rdi7lfm1j30kx0dyjtf.jpg"],"content":"<p>é€šè¿‡ä¼ªé€ æ¶æ„æœåŠ¡å™¨é€ æˆçš„æ”»å‡»<br>ğŸ˜«ğŸ˜„</p>\n<a id=\"more\"></a>\n<h1 id=\"é…ç½®mysql\"><a href=\"#é…ç½®mysql\" class=\"headerlink\" title=\"é…ç½®mysql\"></a>é…ç½®mysql</h1><h2 id=\"å¯åŠ¨mysqlæœåŠ¡\"><a href=\"#å¯åŠ¨mysqlæœåŠ¡\" class=\"headerlink\" title=\"å¯åŠ¨mysqlæœåŠ¡\"></a>å¯åŠ¨mysqlæœåŠ¡</h2><pre><code>service mysql start\n\nMariaDB [mysql]&gt; create database test;\n\nMariaDB [test]&gt; create table users(\n    -&gt; id int auto_increment primary key,\n    -&gt; username varchar(30),\n    -&gt; password varchar(30));\nQuery OK, 0 rows affected (0.026 sec)\n\nMariaDB [test]&gt; insert into users (id,username,password) values (1,&quot;admin&quot;,&quot;admin&quot;);</code></pre><h2 id=\"è®¾ç½®å¯†ç \"><a href=\"#è®¾ç½®å¯†ç \" class=\"headerlink\" title=\"è®¾ç½®å¯†ç \"></a>è®¾ç½®å¯†ç </h2><pre><code>use mysql\nupdate user set password=PASSWORD(&apos;admin&apos;) where User=&apos;root&apos;;\nflush privileges;\nquit\nservice mysql restart\nmysql -h 127.0.0.1 -u root -p  #å¦‚æœtcpdumpæŠ“ä¸åˆ°åŒ…å°±å°è¯•è®¾ç½® -hå‚æ•°æŒ‡å®šä¸ºæœ¬åœ°å›ç¯åœ°å€</code></pre><h2 id=\"æŠ“åŒ…\"><a href=\"#æŠ“åŒ…\" class=\"headerlink\" title=\"æŠ“åŒ…\"></a>æŠ“åŒ…</h2><pre><code>tcpdump -i lo port 3306 -w test.cap</code></pre><p>tcpdumpä½¿ç”¨æŒ‡å—ï¼š<a href=\"https://www.cnblogs.com/pyng/p/9698723.html\" title=\"tcpdumpä½¿ç”¨\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/pyng/p/9698723.html</a></p>\n<h1 id=\"LOAD-DATA-INFILE\"><a href=\"#LOAD-DATA-INFILE\" class=\"headerlink\" title=\"LOAD DATA INFILE\"></a>LOAD DATA INFILE</h1><p>load data infile ä¸»è¦æ˜¯è¯»å–ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹å¹¶ä¸”æ”¾åˆ°ä¸€ä¸ªè¡¨ä¸­ï¼Œé€šå¸¸æœ‰ä¸¤ç§ç”¨æ³•</p>\n<pre><code>load data infile &quot;/data/data.csv&quot; into table TestTable fields terminated by &apos;åˆ†éš”ç¬¦;            //è¯»å–æœåŠ¡å™¨æ–‡ä»¶\nload data local infile &quot;/home/lightless/data.csv&quot; into table TestTable fields terminated by &apos;åˆ†éš”ç¬¦; //è¯»å–æœ¬åœ°æ–‡ä»¶</code></pre><p>æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£<br><img src=\"https://upload-images.jianshu.io/upload_images/9113969-2c46042011a696ea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt></p>\n<p>æˆ‘ä»¬è¯»å–æœ¬åœ°æ–‡ä»¶ï¼Œå¹¶æŠ“å–3306ç«¯å£æµé‡åˆ†æ</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/006boCb9ly1g5rdhx9h84j30jx02lt9b.jpg\" alt=\"è¯»å–æœ¬åœ°æ–‡ä»¶ test.txt\"></p>\n<p>æ–‡ä»¶å†…å®¹æ˜¯ <code>hello world!</code></p>\n<p>æŠ“å–æµé‡</p>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/006boCb9ly1g5rdhzvg9vj30k602n0u2.jpg\" alt=\"æŠ“å–3306ç«¯å£æµé‡\"></p>\n<p>ä¸¢è¿›wireshark</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/006boCb9ly1g5rdi51lqsj30l20kz77j.jpg\" alt=\"å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨\"></p>\n<p>ç¬¬ä¸€ä¸ªåŒ…çœ‹èµ·æ¥æ¯”è¾ƒæ­£å¸¸ï¼Œæ˜¯å®¢æˆ·ç«¯å‘èµ·çš„<code>Request Query</code>ï¼Œå¦‚æœä½ æ— æ³•ä½¿ç”¨<code>LOAD DATA INFILE</code>è¯­æ³•çš„è¯ï¼Œè€ƒè™‘åœ¨è¿æ¥ <code>MySQL</code> çš„æ—¶å€™åŠ ä¸Š<code>--enable-local-infile</code>é€‰é¡¹ï¼Œæˆ–è€…è®¾ç½®<code>local_infile</code>å…¨å±€å˜é‡ä¸º<code>ON</code>ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªæ•°æ®åŒ…æ˜¯å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚åŒ…ï¼ŒåŒ…å«äº†è¯·æ±‚å‘½ä»¤ã€‚</p>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/006boCb9ly1g5rdi2fq31j30kd0cgjt2.jpg\" alt=\"æœåŠ¡å™¨åº”ç­”\"></p>\n<p>æœåŠ¡å™¨å¯¹è¯·æ±‚åšå‡ºå“åº”ï¼Œå“åº”å†…å®¹åŒ…å«äº†æ–‡ä»¶åã€‚</p>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/006boCb9ly1g5rdi7lfm1j30kx0dyjtf.jpg\" alt=\"å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚ï¼Œå‘é€æ–‡ä»¶å†…å®¹\"></p>\n<p>å®¢æˆ·ç«¯å‘é€æœåŠ¡å™¨è¿”å›çš„æ–‡ä»¶åçš„æ–‡ä»¶å†…å®¹ç»™æœåŠ¡å™¨ã€‚</p>\n<p>äºæ˜¯æˆ‘ä»¬æƒ³åˆ°ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å®¢æˆ·ç«¯å‘é€æŸ¥è¯¢ä¹‹åï¼Œè¿”å›ä¸€ä¸ªResponse TABULARæ•°æ®åŒ…ï¼Œå¹¶é™„ä¸Šæˆ‘ä»¬æŒ‡å®šçš„æ–‡ä»¶ï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥è¯»å–å®¢æˆ·ç«¯çš„æ–‡ä»¶äº†ï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚å¼•ç”¨å¤§ä½¬<a href=\"https://lightless.me/archives/read-mysql-client-file.html\" title=\"å¤§ä½¬\" target=\"_blank\" rel=\"noopener\">https://lightless.me/archives/read-mysql-client-file.html</a>çš„æ–‡ç« </p>\n<blockquote>\n<pre><code>å®¢æˆ·ç«¯ï¼šhi~ æˆ‘å°†æŠŠæˆ‘çš„ data.csv æ–‡ä»¶ç»™ä½ æ’å…¥åˆ° test è¡¨ä¸­ï¼\næœåŠ¡ç«¯ï¼šOKï¼Œè¯»å–ä½ æœ¬åœ° data.csv æ–‡ä»¶å¹¶å‘ç»™æˆ‘ï¼\nå®¢æˆ·ç«¯ï¼šè¿™æ˜¯æ–‡ä»¶å†…å®¹ï¼šbalabalï¼</code></pre><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæµç¨‹ä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬åˆ¶ä½œäº†æ¶æ„çš„å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”å›å¤æœåŠ¡ç«¯ä»»æ„ä¸€ä¸ªæˆ‘ä»¬æƒ³è¦è·å–çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆæƒ…å†µå°±ä¸ä¸€æ ·äº†ã€‚</p>\n<pre><code>å®¢æˆ·ç«¯ï¼šhi~ æˆ‘å°†æŠŠæˆ‘çš„ data.csv æ–‡ä»¶ç»™ä½ æ’å…¥åˆ° test è¡¨ä¸­ï¼\næœåŠ¡ç«¯ï¼šOKï¼Œè¯»å–ä½ æœ¬åœ°çš„ / etc/passwd æ–‡ä»¶å¹¶å‘ç»™æˆ‘ï¼\nå®¢æˆ·ç«¯ï¼šè¿™æ˜¯æ–‡ä»¶å†…å®¹ï¼šbalabalï¼ˆ/etc/passwd æ–‡ä»¶çš„å†…å®¹ï¼‰ï¼</code></pre></blockquote>\n<p>ä¼ªé€ çš„æœåŠ¡ç«¯å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å›å¤ä¸€ä¸ª file-transfer è¯·æ±‚ï¼Œä¸ä¸€å®šéè¦æ˜¯åœ¨LOAD DATA LOCALçš„æ—¶å€™ã€‚</p>\n<h1 id=\"ä¼ªé€ æœåŠ¡ç«¯\"><a href=\"#ä¼ªé€ æœåŠ¡ç«¯\" class=\"headerlink\" title=\"ä¼ªé€ æœåŠ¡ç«¯\"></a>ä¼ªé€ æœåŠ¡ç«¯</h1><p>åˆ©ç”¨githubä¸Šé¡¹ç›®ï¼š <a href=\"https://github.com/allyshka/Rogue-MySql-Server\">https://github.com/allyshka/Rogue-MySql-Server</a></p>\n<h1 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h1><blockquote>\n<p><a href=\"https://lightless.me/archives/read-mysql-client-file.html\" target=\"_blank\" rel=\"noopener\">https://lightless.me/archives/read-mysql-client-file.html</a><br><a href=\"https://xz.aliyun.com/t/3277\" target=\"_blank\" rel=\"noopener\">https://xz.aliyun.com/t/3277</a><br><a href=\"https://www.smi1e.top/mysql-load-data-%E8%AF%BB%E5%8F%96%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6/\" target=\"_blank\" rel=\"noopener\">https://www.smi1e.top/mysql-load-data-%E8%AF%BB%E5%8F%96%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6/</a><br><a href=\"https://xz.aliyun.com/t/3973\" target=\"_blank\" rel=\"noopener\">https://xz.aliyun.com/t/3973</a></p>\n</blockquote>\n","categories":[{"name":"ctf","slug":"ctf","count":24,"path":"api/categories/ctf.json"}],"tags":[{"name":"mysql load data","slug":"mysql-load-data","count":1,"path":"api/tags/mysql-load-data.json"}]}