{"title":"Ubuntu 16.04 é…ç½®docker","slug":"ubuntué…ç½®docker","date":"2019-08-02T08:15:29.000Z","updated":"2019-09-10T01:41:53.661Z","comments":true,"path":"api/articles/ubuntué…ç½®docker.json","photos":[],"link":"","excerpt":"å­¦ä¼šè£…dockerï¼Œèµ°éå¤©ä¸‹éƒ½ä¸æ€•!<br>ğŸ˜Š ğŸ†’","covers":null,"content":"<p>å­¦ä¼šè£…dockerï¼Œèµ°éå¤©ä¸‹éƒ½ä¸æ€•!<br>ğŸ˜Š ğŸ†’</p>\n<a id=\"more\"></a>\n<h1 id=\"Ubuntu-16-04-é…ç½®docker\"><a href=\"#Ubuntu-16-04-é…ç½®docker\" class=\"headerlink\" title=\"Ubuntu 16.04 é…ç½®docker\"></a>Ubuntu 16.04 é…ç½®docker</h1><p>æƒ³è£…ä¸ªdockerå¥½å¥½å­¦å­¦pç¥çš„vulhub:<a href=\"https://github.com/vulhub/vulhub\" title=\"pç¥-vulhub\">https://github.com/vulhub/vulhub</a></p>\n<h2 id=\"æ›´æ–°æº\"><a href=\"#æ›´æ–°æº\" class=\"headerlink\" title=\"æ›´æ–°æº\"></a>æ›´æ–°æº</h2><p>å…ˆå¤‡ä»½</p>\n<pre><code>sudo cp /etc/apt/sources.list /etc/apt/sources_init.list</code></pre><p>æ›´æ¢</p>\n<pre><code>sudo gedit /etc/apt/sources.list</code></pre><p>é˜¿é‡Œ</p>\n<pre><code>deb http://mirrors.aliyun.com/ubuntu/ xenial main\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial main\n\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-updates main\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main\n\ndeb http://mirrors.aliyun.com/ubuntu/ xenial universe\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial universe\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universe\n\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-security main\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-security universe\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe</code></pre><p>æ¸…å</p>\n<pre><code>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse</code></pre><p>ç½‘æ˜“</p>\n<pre><code>deb http://mirrors.163.com/ubuntu/ wily main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ wily-security main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ wily-updates main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ wily-proposed main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ wily-backports main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ wily main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ wily-security main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ wily-updates main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ wily-proposed main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ wily-backports main restricted universe multiverse</code></pre><p>æ‰§è¡Œæ›´æ–°</p>\n<pre><code>sudo apt-get update</code></pre><h2 id=\"å®‰è£…\"><a href=\"#å®‰è£…\" class=\"headerlink\" title=\"å®‰è£…\"></a>å®‰è£…</h2><p>æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬</p>\n<pre><code>uname -r</code></pre><p>å¯åŠ¨æœåŠ¡</p>\n<pre><code>sudo service docker start</code></pre><p>æµ‹è¯•</p>\n<pre><code>docker run hello-world</code></pre><h2 id=\"é•œåƒåŠ é€Ÿ\"><a href=\"#é•œåƒåŠ é€Ÿ\" class=\"headerlink\" title=\"é•œåƒåŠ é€Ÿ\"></a>é•œåƒåŠ é€Ÿ</h2><p>æ–°å»º<code>/etc/docker/daemon.json</code>æ–‡ä»¶æ¥é…ç½®daemonï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­åŠ å…¥</p>\n<pre><code>{\n  &quot;registry-mirrors&quot;: [&quot;http://hub-mirror.c.163.com&quot;]\n}</code></pre><h2 id=\"dockerä½¿ç”¨\"><a href=\"#dockerä½¿ç”¨\" class=\"headerlink\" title=\"dockerä½¿ç”¨\"></a>dockerä½¿ç”¨</h2><p>æˆ‘ä»¬é€šè¿‡ä½¿ç”¨<code>-t -i</code>å‚æ•°æ¥è¿›å…¥äº¤äº’å¼ç»ˆç«¯</p>\n<pre><code>docker run -i -t ubuntu:15.10 /bin/bash</code></pre><p>æˆ‘ä»¬å·²è¿›å…¥ç»ˆç«¯ï¼Œå¯ä»¥ä½¿ç”¨<code>ls</code>ï¼Œ<code>cat /proc/version</code>æŸ¥çœ‹ä¿¡æ¯.</p>\n<p>æˆ‘ä»¬ä½¿ç”¨ -d å‚æ•°åˆ›å»ºä¸€ä¸ªä»¥è¿›ç¨‹æ–¹å¼è¿è¡Œçš„å®¹å™¨</p>\n<p>docker -d </p>\n<p>æˆ‘ä»¬ä½¿ç”¨ ps æ¥æŸ¥çœ‹å®¹å™¨ä¿¡æ¯</p>\n<pre><code>docker ps</code></pre><p>æˆ‘ä»¬ä½¿ç”¨ stop æ¥åœæ­¢å®¹å™¨</p>\n<pre><code>docker stop name</code></pre><p>æˆ‘ä»¬ä½¿ç”¨<code>docker images</code> æ¥åˆ—å‡ºæœ¬åœ°é•œåƒåˆ—è¡¨</p>\n<p>ä½¿ç”¨ <code>docker pull</code> æ¥è·å¾—ä¸€ä¸ªé•œåƒ</p>\n<p>ä½¿ç”¨ <code>docker search name</code> æ¥æŸ¥æ‰¾ä¸€ä¸ªé•œåƒ</p>\n<h3 id=\"è¿è¡Œä¸€ä¸ªwebåº”ç”¨\"><a href=\"#è¿è¡Œä¸€ä¸ªwebåº”ç”¨\" class=\"headerlink\" title=\"è¿è¡Œä¸€ä¸ªwebåº”ç”¨\"></a>è¿è¡Œä¸€ä¸ªwebåº”ç”¨</h3><p>åœ¨dockerä¸­è¿è¡Œä¸€ä¸ªPython flask åº”ç”¨æ¥è¿è¡Œä¸€ä¸ªwebåº”ç”¨ã€‚</p>\n<pre><code>docker pull training/webapp #è½½å…¥é•œåƒ\ndocker run -d -P training/webapp python app.py</code></pre><p>-På°†å®¹å™¨å†…éƒ¨ä½¿ç”¨çš„ç½‘ç»œç«¯å£éšæœºæ˜ å°„åˆ°æˆ‘ä»¬ä½¿ç”¨çš„ä¸»æœºé«˜ç«¯å£ä¸Š<br>-på®¹å™¨å†…éƒ¨ç«¯å£ç»‘å®šåˆ°æŒ‡å®šä¸»æœºç«¯å£</p>\n<p>å¦å¤– æˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‡å®šIPåœ°å€ã€‚</p>\n<h2 id=\"ä¸‹è½½vulhub\"><a href=\"#ä¸‹è½½vulhub\" class=\"headerlink\" title=\"ä¸‹è½½vulhub\"></a>ä¸‹è½½vulhub</h2><pre><code>wget https://github.com/vulhub/vulhub/archive/master.zip -O vulhub-master.zip\nunzip vulhub-master.zip</code></pre><p>è§£å‹æ—¶å€™å¯èƒ½ä¼šæŠ¥é”™</p>\n<pre><code>unzip:  cannot find zipfile directory in one of vulhub-master.zip or\nvulhub-master.zip.zip, and cannot find vulhub-master.zip.ZIP, period.</code></pre><p>æˆ‘ä»¬æ¢ä¸ªå‹ç¼©æ–¹å¼å°±æˆ</p>\n<pre><code>sudo apt-get install fastjar\njar xvf vulhub-master.zip</code></pre><p>ç„¶å</p>\n<pre><code>cd vulhub-master\n\n# Enter the directory of vulnerability/environment\ncd flask/ssti\n\n# Compile environment\ndocker-compose build\n\n# Run environment\ndocker-compose up -d</code></pre><p>æ„‰å¿«çš„å­¦ä¹ å§ï¼</p>\n<h2 id=\"å¤ç°ctfç¯å¢ƒ\"><a href=\"#å¤ç°ctfç¯å¢ƒ\" class=\"headerlink\" title=\"å¤ç°ctfç¯å¢ƒ\"></a>å¤ç°ctfç¯å¢ƒ</h2><h3 id=\"dockerfile\"><a href=\"#dockerfile\" class=\"headerlink\" title=\"dockerfile\"></a>dockerfile</h3><p>å…ˆè¿›å…¥dockerfileç›®å½•ï¼Œå»ºç«‹ä¸€ä¸ªimages</p>\n<pre><code>docker build -t name . \ndocker run -i -d -p 20000:80 name</code></pre><h3 id=\"docker-compose-yml\"><a href=\"#docker-compose-yml\" class=\"headerlink\" title=\"docker-compose.yml\"></a>docker-compose.yml</h3><pre><code>docker-compose build\ndocker-compose up -d</code></pre><h2 id=\"å‚è€ƒé“¾æ¥\"><a href=\"#å‚è€ƒé“¾æ¥\" class=\"headerlink\" title=\"å‚è€ƒé“¾æ¥\"></a>å‚è€ƒé“¾æ¥</h2><blockquote>\n<p><a href=\"https://github.com/vulhub/vulhub\">https://github.com/vulhub/vulhub</a><br><a href=\"https://www.runoob.com/docker/docker-container-connection.html\" target=\"_blank\" rel=\"noopener\">https://www.runoob.com/docker/docker-container-connection.html</a><br><a href=\"https://askubuntu.com/questions/54904/unzip-error-end-of-central-directory-signature-not-found\" target=\"_blank\" rel=\"noopener\">https://askubuntu.com/questions/54904/unzip-error-end-of-central-directory-signature-not-found</a><br><a href=\"https://blog.csdn.net/qq_35451572/article/details/79516563\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/qq_35451572/article/details/79516563</a></p>\n</blockquote>\n","categories":[{"name":"docker","slug":"docker","count":1,"path":"api/categories/docker.json"}],"tags":[{"name":"docker","slug":"docker","count":1,"path":"api/tags/docker.json"}]}